import{j as s}from"./jsx-runtime-9bc08dc0.js";import{R as M}from"./index-3521aefc.js";import{B as k}from"./Button-b38a60bb.js";import{c as U}from"./createLucideIcon-f25c75cd.js";import{H as Q}from"./house-81903ef0.js";import"./_commonjsHelpers-725317a4.js";/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=U("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=U("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Z=Object.prototype.toString;function ee(t,e){return Z.call(t)===`[object ${e}]`}function te(t){return ee(t,"Object")}function re(t){return!!(t&&t.then&&typeof t.then=="function")}const f="8.26.0",a=globalThis;function Y(t,e,r){const n=r||a,o=n.__SENTRY__=n.__SENTRY__||{},i=o[f]=o[f]||{};return i[t]||(i[t]=e())}const F=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ne="Sentry Logger ",R=["debug","info","warn","error","log","assert","trace"],I={};function se(t){if(!("console"in a))return t();const e=a.console,r={},n=Object.keys(I);n.forEach(o=>{const i=I[o];r[o]=e[o],e[o]=i});try{return t()}finally{n.forEach(o=>{e[o]=r[o]})}}function oe(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return F?R.forEach(r=>{e[r]=(...n)=>{t&&se(()=>{a.console[r](`${ne}[${r}]:`,...n)})}}):R.forEach(r=>{e[r]=()=>{}}),e}const w=oe();function ie(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{F&&w.log(`Failed to add non-enumerable property "${e}" to object`,t)}}const V=1e3;function K(){return Date.now()/V}function ae(){const{performance:t}=a;if(!t||!t.now)return K;const e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/V}const ce=ae();(()=>{const{performance:t}=a;if(!t||!t.now)return;const e=3600*1e3,r=t.now(),n=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,i=o<e,_=t.timing&&t.timing.navigationStart,S=typeof _=="number"?Math.abs(_+r-n):e,b=S<e;return i||b?o<=S?t.timeOrigin:_:n})();function u(){const t=a,e=t.crypto||t.msCrypto;let r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function L(){return{traceId:u(),spanId:u().substring(16)}}function G(){return C(a),a}function C(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||f,e[f]=e[f]||{}}function de(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ce(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:u()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}const O="_sentrySpan";function B(t,e){e?ie(t,O,e):delete t[O]}function A(t){return t[O]}const ue=100;class D{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=L()}clone(){const e=new D;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,B(e,A(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&de(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const r=typeof e=="function"?e(this):e,[n,o]=r instanceof l?[r.getScopeData(),r.getRequestSession()]:te(r)?[e,e.requestSession]:[],{tags:i,extra:_,user:g,contexts:S,level:b,fingerprint:T=[],propagationContext:j}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,..._},this._contexts={...this._contexts,...S},g&&Object.keys(g).length&&(this._user=g),b&&(this._level=b),T.length&&(this._fingerprint=T),j&&(this._propagationContext=j),o&&(this._requestSession=o),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,B(this,void 0),this._attachments=[],this._propagationContext=L(),this._notifyScopeListeners(),this}addBreadcrumb(e,r){const n=typeof r=="number"?r:ue;if(n<=0)return this;const o={timestamp:K(),...e},i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:A(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){const n=r&&r.event_id?r.event_id:u();if(!this._client)return w.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:n},this),n}captureMessage(e,r,n){const o=n&&n.event_id?n.event_id:u();if(!this._client)return w.warn("No client configured on scope - will not capture message!"),o;const i=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:i,...n,event_id:o},this),o}captureEvent(e,r){const n=r&&r.event_id?r.event_id:u();return this._client?(this._client.captureEvent(e,{...r,event_id:n},this),n):(w.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const l=D;function le(){return Y("defaultCurrentScope",()=>new l)}function he(){return Y("defaultIsolationScope",()=>new l)}class pe{constructor(e,r){let n;e?n=e:n=new l;let o;r?o=r:o=new l,this._stack=[{scope:n}],this._isolationScope=o}withScope(e){const r=this._pushScope();let n;try{n=e(r)}catch(o){throw this._popScope(),o}return re(n)?n.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function h(){const t=G(),e=C(t);return e.stack=e.stack||new pe(le(),he())}function _e(t){return h().withScope(t)}function fe(t,e){const r=h();return r.withScope(()=>(r.getStackTop().scope=t,e(t)))}function P(t){return h().withScope(()=>t(h().getIsolationScope()))}function me(){return{withIsolationScope:P,withScope:_e,withSetScope:fe,withSetIsolationScope:(t,e)=>P(e),getCurrentScope:()=>h().getScope(),getIsolationScope:()=>h().getIsolationScope()}}function ge(t){const e=C(t);return e.acs?e.acs:me()}function Se(){const t=G();return ge(t).getCurrentScope()}function be(t){if(t)return Ee(t)?{captureContext:t}:xe(t)?{captureContext:t}:t}function Ee(t){return t instanceof l||typeof t=="function"}const ye=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function xe(t){return Object.keys(t).some(e=>ye.includes(e))}function z(t,e){return Se().captureException(t,be(e))}const ve=()=>{try{return!1}catch{return!1}},c=t=>ve()?!0:t==="error",p={log:(...t)=>{c("log")&&console.log("[BizOps]",...t)},warn:(...t)=>{c("warn")&&console.warn("[BizOps]",...t)},error:(...t)=>{c("error")&&console.error("[BizOps]",...t)},info:(...t)=>{c("info")&&console.info("[BizOps]",...t)},debug:(...t)=>{c("debug")&&console.debug("[BizOps]",...t)},group:t=>{c("log")&&console.group(t)},groupEnd:()=>{c("log")&&console.groupEnd()},groupCollapsed:t=>{c("log")&&console.groupCollapsed(t)}},d=t=>{try{if(typeof import.meta<"u"&&{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"})return{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"}[t]}catch{}try{if(typeof process<"u"&&process.env)return process.env[t]}catch{}},we=()=>{try{const t="production";if(t==="development"||t==="production"||t==="test")return t}catch{}try{const t=process.env?.NODE_ENV;if(t==="development"||t==="production"||t==="test")return t}catch{}return"production"};let E=null;const H=()=>{if(E)return E;const t=we(),e=d("VITE_SENTRY_DSN")||d("REACT_APP_SENTRY_DSN"),r=d("VITE_HOTJAR_ID")||d("REACT_APP_HOTJAR_ID"),n=d("GEMINI_API_KEY")||d("VITE_GEMINI_API_KEY");return E={sentryDsn:e,hotjarId:r,geminiApiKey:n,environment:t,isDevelopment:t==="development",isProduction:t==="production",isTest:t==="test"},E},Ne=()=>H().isDevelopment;let m=[];const ke=(t,e)=>{const r={name:t,properties:{...e,url:window.location.href,path:window.location.pathname},timestamp:Date.now()};Oe(r)},Oe=t=>{const e=H();e.isDevelopment&&p.debug("Tracking Event:",t),e.isProduction&&(m.push(t),(m.length>=10||t.name==="conversion")&&Ce())},Ce=()=>{if(m.length===0)return;const t=[...m];m=[],p.debug(`Tracking: Flushed ${t.length} events`)},$=(t,e)=>{ke("error",{error_message:t.message,error_stack:t.stack,...e})};class N extends M.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){p.error("Uncaught error:",e,r),$(e,{component_stack:r.componentStack,error_boundary:"root"});try{z(e,{contexts:{react:{componentStack:r.componentStack}},tags:{errorBoundary:"root"}})}catch(n){p.warn("Sentry error reporting failed:",n)}}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 text-center p-6 transition-colors duration-300",children:s.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6 text-red-600 dark:text-red-400 animate-bounce",children:s.jsx(q,{className:"w-8 h-8"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Something went wrong."}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8 text-sm leading-relaxed",children:"We've encountered an unexpected error. Our engineering team has been notified automatically."}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs(k,{onClick:()=>window.location.reload(),fullWidth:!0,className:"flex items-center justify-center gap-2",children:[s.jsx(X,{className:"w-4 h-4"})," Reload Application"]}),s.jsxs(k,{variant:"ghost",onClick:()=>window.location.href="/",className:"flex items-center justify-center gap-2",children:[s.jsx(Q,{className:"w-4 h-4"}),"Return to Homepage"]})]}),this.state.error&&Ne()&&s.jsxs("details",{className:"mt-8 p-4 bg-slate-100 dark:bg-slate-950 rounded-lg border border-slate-200 dark:border-slate-800 w-full",children:[s.jsx("summary",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 cursor-pointer mb-2",children:"Error Details (Development Only)"}),s.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 font-mono break-all",children:[s.jsx("p",{className:"mb-2",children:this.state.error.toString()}),this.state.error.stack&&s.jsx("pre",{className:"text-[10px] text-slate-500 whitespace-pre-wrap overflow-auto max-h-40",children:this.state.error.stack})]})]})]})}):this.props.children}}class W extends M.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){p.error("Section Error:",e,r),$(e,{component_stack:r.componentStack,error_boundary:"section"});try{z(e,{contexts:{react:{componentStack:r.componentStack}},tags:{errorBoundary:"section"}})}catch(n){p.warn("Sentry error reporting failed:",n)}}render(){return this.state.hasError?s.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 text-center",children:[s.jsx(q,{className:"w-6 h-6 text-slate-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-3",children:"Gagal memuat bagian ini."}),s.jsx(k,{size:"sm",variant:"outline",onClick:()=>this.setState({hasError:!1,error:null}),children:"Coba Lagi"})]}):this.props.children}}N.__docgenInfo={description:"",methods:[],displayName:"ErrorBoundary",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}};W.__docgenInfo={description:"",methods:[],displayName:"SectionErrorBoundary",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}};const J=({shouldThrow:t})=>{if(t)throw new Error("Test error for Storybook");return s.jsx("div",{children:"No error"})},Be={title:"Components/ErrorBoundary",component:N,parameters:{layout:"fullscreen"},tags:["autodocs"]},y={render:()=>s.jsx(N,{children:s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Normal Content"}),s.jsx("p",{children:"This content renders normally without any errors."})]})})},x={render:()=>s.jsx(N,{children:s.jsx(J,{shouldThrow:!0})})},v={render:()=>s.jsxs("div",{className:"p-8 space-y-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[s.jsx("h2",{className:"font-bold mb-2",children:"Normal Section"}),s.jsx("p",{children:"This section works fine."})]}),s.jsx(W,{children:s.jsx(J,{shouldThrow:!0})}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[s.jsx("h2",{className:"font-bold mb-2",children:"Another Normal Section"}),s.jsx("p",{children:"This section also works fine, even though the one above has an error."})]})]})};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  render: () => <ErrorBoundary>
      <div className="p-8">
        <h1 className="text-2xl font-bold mb-4">Normal Content</h1>
        <p>This content renders normally without any errors.</p>
      </div>
    </ErrorBoundary>
}`,...y.parameters?.docs?.source}}};x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:`{
  render: () => <ErrorBoundary>
      <ThrowError shouldThrow={true} />
    </ErrorBoundary>
}`,...x.parameters?.docs?.source}}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  render: () => <div className="p-8 space-y-4">
      <div className="p-4 bg-white rounded-lg border">
        <h2 className="font-bold mb-2">Normal Section</h2>
        <p>This section works fine.</p>
      </div>
      
      <SectionErrorBoundary>
        <ThrowError shouldThrow={true} />
      </SectionErrorBoundary>
      
      <div className="p-4 bg-white rounded-lg border">
        <h2 className="font-bold mb-2">Another Normal Section</h2>
        <p>This section also works fine, even though the one above has an error.</p>
      </div>
    </div>
}`,...v.parameters?.docs?.source}}};const Ae=["WithoutError","WithError","SectionErrorBoundaryExample"];export{v as SectionErrorBoundaryExample,x as WithError,y as WithoutError,Ae as __namedExportsOrder,Be as default};
